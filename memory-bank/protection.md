# σ₆: Protection Registry
*v1.0 | Created: 2025-01-17 | Updated: 2025-01-17*
*Π: DEVELOPMENT | Ω: PLAN*

## 🛡️ Protected Regions

### 核心业务逻辑保护区域

#### 🔒 PROTECTED 区域
- **位置**: `logic/file_processor.py` 
  - **方法**: `scan_directory()` (核心扫描算法)
  - **原因**: 关键业务逻辑，修改可能影响整体功能
  - **保护级别**: PROTECTED - 严禁修改

#### 🛡️ GUARDED 区域  
- **位置**: `data/tree_node.py`
  - **类**: `TreeNode` 数据结构定义
  - **原因**: 核心数据模型，修改需要仔细评估影响
  - **保护级别**: GUARDED - 需要审批才能修改

#### ℹ️ INFO 区域
- **位置**: `utils/path_utils.py`
  - **功能**: 路径处理工具函数
  - **说明**: 包含跨平台路径处理逻辑
  - **保护级别**: INFO - 修改时需注意兼容性

#### ⚠️ CRITICAL 区域
- **位置**: `main.py`
  - **类**: `ProjectAnalyzerApp.__init__()`
  - **原因**: 应用初始化代码，错误可能导致程序无法启动
  - **保护级别**: CRITICAL - 修改需要全面测试

### UI 相关保护区域

#### 🧪 TEST 区域
- **位置**: `ui/` 目录下所有文件
  - **功能**: 用户界面组件
  - **说明**: UI 代码相对安全，但修改需要测试用户体验
  - **保护级别**: TEST - 修改后需要 UI 测试

### 配置和工具保护区域

#### 🐞 DEBUG 区域
- **位置**: `logic/filter_engine.py`
  - **功能**: 过滤逻辑调试代码
  - **说明**: 包含调试输出和错误处理
  - **保护级别**: DEBUG - 生产环境需要清理

## 📜 Protection History

### 2025-01-17 - 初始保护设置
- 建立了基础的代码保护体系
- 识别了关键业务逻辑和数据结构
- 设置了适当的保护级别

### 保护区域变更记录
*当前无变更记录*

## ✅ Approvals

### GUARDED 修改审批记录
*当前无审批记录*

### 审批流程
1. **申请**: 描述修改原因和影响范围
2. **评估**: 技术负责人评估风险
3. **测试**: 在测试环境验证修改
4. **批准**: 获得正式修改许可
5. **执行**: 在生产环境应用修改
6. **验证**: 确认修改效果符合预期

## ⚠️ Permission Violations

### 违规记录
*当前无违规记录*

### 违规处理流程
1. **检测**: 自动或手动发现违规行为
2. **记录**: 详细记录违规时间、类型、影响
3. **评估**: 评估违规的严重程度和风险
4. **修复**: 立即修复或回滚有问题的修改
5. **预防**: 制定措施防止类似违规再次发生

## 🔍 Protection Scan Results

### 自动扫描发现的保护建议

#### 需要添加保护的代码区域
1. **`logic/exporter.py`** - 导出功能核心逻辑
   - 建议保护级别: GUARDED
   - 原因: 导出格式错误可能导致数据丢失

2. **`data/project_model.py`** - 项目数据模型
   - 建议保护级别: CRITICAL  
   - 原因: 数据模型变更影响整个应用

3. **配置文件和启动脚本**
   - `run.sh` - 启动脚本
   - 建议保护级别: INFO
   - 原因: 脚本错误可能导致启动失败

### 扫描统计
- **总文件数**: 15+ 个主要文件
- **需要保护**: 8 个关键文件  
- **已设置保护**: 6 个文件
- **保护覆盖率**: 75%

## 🎯 Protection Strategy

### 保护原则
1. **核心优先**: 优先保护核心业务逻辑和数据结构
2. **分级管理**: 根据风险级别设置不同保护等级
3. **灵活调整**: 根据项目发展调整保护策略
4. **文档记录**: 详细记录所有保护决策和变更

### 未来保护计划
1. 为所有核心模块添加适当的保护标记
2. 建立代码审查流程确保保护标记的一致性
3. 开发自动化工具检测未保护的关键代码
4. 建立保护级别的定期评估和更新机制 