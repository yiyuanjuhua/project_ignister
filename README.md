# 工程结构分析工具

这是一个用于分析和管理工程目录结构的工具，能够帮助开发者快速了解项目结构并生成相应的文档。

## 功能特点

- **目录结构扫描**：递归扫描指定目录，构建完整的文件树结构
- **智能过滤**：支持自定义过滤条件，可以排除不需要的文件和目录
- **.gitignore 支持**：自动读取并应用 .gitignore 文件中的规则
- **交互式编辑**：通过图形界面为每个文件和目录添加功能描述
- **多格式导出**：支持导出为 Markdown、JSON 或 Cursor Rules 格式

## 系统要求

- Python 3.6 或更高版本
- tkinter（通常随 Python 一起安装）
- 支持 Windows 和 Linux 操作系统

## 使用方法

### 启动程序

```bash
python main.py
```

### 操作步骤

1. **选择功能**：在主界面点击"工程结构读取"
2. **配置参数**：
   - 选择要分析的工程目录
   - 可选择是否使用 .gitignore 文件
   - 自定义过滤条件（支持通配符）
3. **开始扫描**：点击"开始扫描"按钮
4. **编辑描述**：在结果页面双击任意文件或目录来添加功能描述
5. **导出结果**：选择合适的格式导出分析结果

## 项目结构

```
工程结构梳理工具/
├── 应用层 (UI)
│   ├── main_view.py        # 主界面
│   ├── config_view.py      # 配置界面
│   └── project_view.py     # 工程运维界面
├── 业务逻辑层
│   ├── file_processor.py   # 文件处理核心
│   ├── filter_engine.py    # 过滤逻辑
│   └── exporter.py         # 导出模块
├── 数据层
│   ├── project_model.py    # 工程数据结构
│   └── tree_node.py        # 树节点定义
├── 工具层
│   ├── utils.py            # 通用工具函数
│   └── path_utils.py       # 路径处理
├── exports/                # 导出文件存储目录
└── main.py                 # 程序入口
```

## 过滤规则语法

支持以下过滤模式：

- `*.ext`：匹配所有指定扩展名的文件
- `dirname/`：匹配指定目录
- `**/pattern`：递归匹配任意深度的模式
- `!pattern`：排除模式（不匹配）

### 常用过滤规则示例

```
# Python 项目
*.pyc
__pycache__/
*.egg-info/
build/
dist/

# Node.js 项目
node_modules/
*.min.js
*.min.css

# 版本控制
.git/
.svn/

# IDE 文件
.idea/
.vscode/
```

## 导出格式说明

### Markdown 格式
生成包含项目结构和描述的 Markdown 文档，适合项目文档管理。

### JSON 格式
生成结构化的 JSON 数据，包含完整的项目信息，便于程序化处理。

### Cursor Rules 格式
生成适用于 Cursor AI 编辑器的项目规则文件，帮助 AI 更好地理解项目结构。

## 快捷键

- `Ctrl+Q`：退出程序
- `双击`：编辑文件/目录描述
- `右键`：显示上下文菜单

## 注意事项

1. 大型项目扫描可能需要一些时间，请耐心等待
2. 确保有足够的权限访问要扫描的目录
3. 导出文件将保存在 `exports` 目录下
4. 建议在扫描前合理配置过滤条件，以提高扫描效率

## 版本信息

- 版本：1.0.0
- 支持系统：Windows & Linux
- 开发语言：Python + Tkinter
